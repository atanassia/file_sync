  Достаточно в двух разных терминалах запустить отдельно сервер, а затем клиент.

  Сначала клиент делает запрос на сервер, проверяет, сколько записей в файле сервера,
если меньше, чем у клиента, то делается запрос на сервер и он дополучает свои записи.

  Затем просто идет ежесекундная проверка файла на обновления и отправка новых данных на сервер.